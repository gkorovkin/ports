# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem			1.0

name				ptlib
version				2.10.9
categories			devel
platforms			darwin
license				BSD
maintainers			gkorovin
description			ptlib
long_description	PTLib 2.10.9 fork for GNU Gatekeeper and H323Plus

patch.pre_args		-p1
patchfiles			01_fix_sched_yield.patch \
                    02_install_version.patch

fetch.type			git
git.url				https://github.com/willamowius/ptlib
git.branch			3ce47a2fe34b87318832cade60af7e2f7bec72f3

post-destroot {
    reinplace "s|include \$\(PTLIBDIR\)\/make|include \$\(PTLIBDIR\)\/share\/ptlib\/make|g" \
        ${destroot}${prefix}/share/ptlib/make/ptlib.mak \
        ${destroot}${prefix}/share/ptlib/make/plugins.mak \
        ${destroot}${prefix}/share/ptlib/make/unix.mak
}
